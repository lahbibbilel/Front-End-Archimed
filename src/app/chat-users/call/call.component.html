<div class="container">
  <div class="row no-gutters">
    <div class="col-md-4 border-right">
      <div class="settings-tray">
        <img class="profile-image" src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/filip.jpg" alt="Profile img">
        <span class="settings-tray--right">
          <i class="material-icons">cached</i>
          <i class="material-icons">message</i>
          <i class="material-icons">menu</i>
        </span>
      </div>
      <div class="search-box">
        <div class="input-wrapper">
          <i class="material-icons">search</i>
          <input placeholder="Search here" type="text">
        </div>
      </div>
      <div class="friend-drawer friend-drawer--onhover" *ngFor="let u of users" (click)="getUserClick(u)">
        <img class="profile-image" src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg" alt="">
        <div class="text">
          <h6>{{u.name}}</h6>
          <p class="text-muted">{{u._id}}</p>
        </div>
        <span class="time text-muted small">13:21</span>
      </div>
      <hr>
    </div>
    <div class="col-md-8">
      <div class="settings-tray">
        <div class="friend-drawer no-gutters friend-drawer--grey" *ngIf="selectedUser">
          <img class="profile-image" src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/robocop.jpg" alt="">
          <div class="text">
            <h6>{{selectedUser.name}}</h6>
            <p class="text-muted">{{selectedUser._id}}</p>
          </div>
          <span class="settings-tray--right">
            <i class="material-icons">cached</i>
            <i class="material-icons">message</i>
            <i class="material-icons">menu</i>
          </span>
        </div>
      </div>
      <div class="chat-container">
        <div *ngFor="let message of messages">
          <div *ngIf="message.senderId === getAuth.getId()" class="chat-bubble chat-bubble--right">
            {{ message.message }}
          </div>
          <div *ngIf="message.senderId !== getAuth.getId()" class="chat-bubble chat-bubble--left">
           {{ message.message }}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <div class="chat-box-tray">
            <i class="material-icons">sentiment_very_satisfied</i>
            <input type="text" [(ngModel)]="message" placeholder="Type your message here...">
            <i class="material-icons">mic</i>
            <i class="material-icons" (click)="sendMessage(getAuth.getId(), selectedUser._id, message)">send</i>
          </div>
          <div class="row">
            <div class="col-12">
              <button (click)="startRecording()">Enregistrer vocal</button>
              <button (click)="stopRecording()">Arrêter l'enregistrement vocal</button>
              <button (click)="startWebcam()">Activer la webcam</button>
              <button (click)="stopWebcam()">Désactiver la webcam</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
